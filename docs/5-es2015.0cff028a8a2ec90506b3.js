(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{o6bk:function(t,e,n){"use strict";n.r(e);var o=n("ofXK"),s=n("tyNb"),r=n("3Pt+"),a=n("fXoL");function i(t,e){if(1&t&&(a.Sb(0,"li",4),a.Sb(1,"a",5),a.Dc(2),a.Rb(),a.Rb()),2&t){const t=e.$implicit;a.Ab(1),a.nc("routerLink",t.fragment),a.Ab(1),a.Ec(t.title)}}let c=(()=>{class t{constructor(){this.links=[{title:"Nueva mascota",fragment:"new-pet"},{title:"Nuevo tipo mascota",fragment:"pet-type"},{title:"Crear miembro equipo",fragment:"new-team-member"},{title:"Administrar mascotas",fragment:"manage-pets"},{title:"Administrar equipo",fragment:"manage-team"},{title:"Todas las mascotas",fragment:"pets"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Hb({type:t,selectors:[["app-back-ofice"]],decls:5,vars:1,consts:[[1,"wrapper"],["id","sidebar"],[1,"list-unstyled","components"],["class","active",4,"ngFor","ngForOf"],[1,"active"],["data-toggle","collapse","aria-expanded","false",1,"dropdown-toggle",3,"routerLink"]],template:function(t,e){1&t&&(a.Sb(0,"div",0),a.Sb(1,"nav",1),a.Sb(2,"ul",2),a.Bc(3,i,3,2,"li",3),a.Rb(),a.Rb(),a.Ob(4,"router-outlet"),a.Rb()),2&t&&(a.Ab(3),a.nc("ngForOf",e.links))},directives:[o.k,s.e,s.c],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:stretch}"]}),t})();class m{constructor(t,e,n){this.formGroupIntance=t,this.controlName=e,this.validationRules=n}execute(){const t=this.formGroupIntance.get(this.controlName);t&&(this.validationRules?t.setValidators(this.validationRules):t.clearValidators())}}var l=n("ZF+8");function b(t,e){if(1&t&&(a.Sb(0,"pre"),a.Dc(1),a.jc(2,"json"),a.Rb()),2&t){const t=a.ic();a.Ab(1),a.Ec(a.kc(2,1,t.loginForm.value))}}function p(t,e){if(1&t&&(a.Sb(0,"pre"),a.Dc(1),a.jc(2,"json"),a.jc(3,"async"),a.Rb()),2&t){const t=a.ic();a.Ab(1),a.Ec(a.kc(2,1,a.kc(3,3,t.user$)))}}function u(t,e){if(1&t&&(a.Sb(0,"pre"),a.Dc(1),a.jc(2,"async"),a.Rb()),2&t){const t=a.ic();a.Ab(1),a.Ec(a.kc(2,1,t.error$))}}let d=(()=>{class t{constructor(t,e,n,o,s){this.commandS=t,this.formS=e,this.router=n,this.userS=o,this.externalLibsS=s,this.loginConstants={USER_NAME:"USER_NAME",PASSWORD:"PASSWORD"},this.regexPassword=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])([A-Za-z\d$@$!%*?&]|[^ ]){8,15}$/,this.isDevMode=this.externalLibsS.isDevMode}ngOnInit(){this.loadForm(),this.user$=this.userS.user$,this.subscription=this.user$.subscribe(()=>this.router.navigate(["back-office"])),this.error$=this.userS.errorMessage$}ngOnDestroy(){this.subscription.unsubscribe()}loadForm(){this.loginForm=this.getFormInstance(),this.commandS.addCommand(new m(this.loginForm,this.loginConstants.USER_NAME,[r.n.required])),this.commandS.addCommand(new m(this.loginForm,this.loginConstants.PASSWORD,[r.n.required,r.n.pattern(this.regexPassword)])),this.commandS.executeCommands()}getFormInstance(){const t=new r.e({}),e=new r.c,n=new r.c;return t.addControl(this.loginConstants.USER_NAME,e),t.addControl(this.loginConstants.PASSWORD,n),t}login(){const t=this.formS.getInputValue(this.loginConstants.USER_NAME,this.loginForm),e=this.formS.getInputValue(this.loginConstants.PASSWORD,this.loginForm);this.userS.login(t,e)}logout(){this.userS.logout()}}return t.\u0275fac=function(e){return new(e||t)(a.Nb(l.a),a.Nb(l.c),a.Nb(s.b),a.Nb(l.d),a.Nb(l.b))},t.\u0275cmp=a.Hb({type:t,selectors:[["app-login"]],decls:22,vars:6,consts:[[1,"jumbotron","t-20"],[1,"display-16"],[3,"formGroup"],[1,"form-group"],["for","exampleInputEmail1"],["id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control",3,"formControlName"],["id","emailHelp",1,"form-text","text-muted"],["for","exampleInputPassword1"],["type","password","id","exampleInputPassword1",1,"form-control",3,"formControlName"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"my-4"],[4,"ngIf"]],template:function(t,e){1&t&&(a.Sb(0,"div",0),a.Sb(1,"h1",1),a.Dc(2,"Login"),a.Rb(),a.Sb(3,"form",2),a.Sb(4,"div",3),a.Sb(5,"label",4),a.Dc(6,"Email address"),a.Rb(),a.Ob(7,"input",5),a.Sb(8,"small",6),a.Dc(9,"We'll never share your email with anyone else."),a.Rb(),a.Rb(),a.Sb(10,"div",3),a.Sb(11,"label",7),a.Dc(12,"Password"),a.Rb(),a.Ob(13,"input",8),a.Rb(),a.Sb(14,"button",9),a.ec("click",(function(){return e.login()})),a.Dc(15,"Login"),a.Rb(),a.Sb(16,"button",9),a.ec("click",(function(){return e.logout()})),a.Dc(17,"Close"),a.Rb(),a.Rb(),a.Ob(18,"hr",10),a.Bc(19,b,3,3,"pre",11),a.Bc(20,p,4,5,"pre",11),a.Bc(21,u,3,3,"pre",11),a.Rb()),2&t&&(a.Ab(3),a.nc("formGroup",e.loginForm),a.Ab(4),a.oc("formControlName",e.loginConstants.USER_NAME),a.Ab(6),a.oc("formControlName",e.loginConstants.PASSWORD),a.Ab(6),a.nc("ngIf",e.isDevMode),a.Ab(1),a.nc("ngIf",e.isDevMode),a.Ab(1),a.nc("ngIf",e.isDevMode))},directives:[r.p,r.k,r.f,r.a,r.j,r.d,o.l],pipes:[o.g,o.b],styles:[""]}),t})();var f=n("lJxs");let h=(()=>{class t{constructor(t,e){this.router=t,this.userS=e}canActivate(t,e){return this.userS.user$.pipe(Object(f.a)(t=>!!t||(this.router.navigate(["back-office/login"]),!1)))}}return t.\u0275fac=function(e){return new(e||t)(a.ac(s.b),a.ac(l.d))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this.commandS=t,this.formS=e,this.loginConstants={USER_NAME:"name",PASSWORD:"PASSWORD"}}ngOnInit(){}getFormInstance(){const t=new r.e({}),e=new r.c,n=new r.c;return t.addControl(this.loginConstants.USER_NAME,e),t.addControl(this.loginConstants.PASSWORD,n),t}}return t.\u0275fac=function(e){return new(e||t)(a.Nb(l.a),a.Nb(l.c))},t.\u0275cmp=a.Hb({type:t,selectors:[["app-new-pet"]],decls:2,vars:0,template:function(t,e){1&t&&(a.Sb(0,"p"),a.Dc(1,"new-pet works!"),a.Rb())},styles:[""]}),t})(),g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Hb({type:t,selectors:[["app-pets"]],decls:2,vars:0,template:function(t,e){1&t&&(a.Sb(0,"p"),a.Dc(1,"pets works!"),a.Rb())},styles:[""]}),t})();var C=n("mrSG"),A=n("S/Aq");function R(t,e){if(1&t&&(a.Sb(0,"li",1),a.Dc(1),a.Rb()),2&t){const t=e.$implicit;a.Ab(1),a.Fc(" ",t.name,"\n")}}let v=(()=>{class t{constructor(t,e,n){this.commandS=t,this.formS=e,this.afs=n,this.petTypeConstants={NAME:"NAME"}}ngOnInit(){this.petTypeForm=this.getFormInstance(),this.getPetTypes(),this.items$=this.afs.collection("petType").valueChanges(),this.petTypes$=this.afs.collection("petType").valueChanges()}getFormInstance(){const t=new r.e({}),e=new r.c;return t.addControl(this.petTypeConstants.NAME,e),t}getPetTypes(){return Object(C.__awaiter)(this,void 0,void 0,(function*(){}))}}return t.\u0275fac=function(e){return new(e||t)(a.Nb(l.a),a.Nb(l.c),a.Nb(A.a))},t.\u0275cmp=a.Hb({type:t,selectors:[["app-pet-type"]],decls:8,vars:8,consts:[["class","text",4,"ngFor","ngForOf"],[1,"text"]],template:function(t,e){1&t&&(a.Sb(0,"p"),a.Dc(1,"pet-type works!"),a.Rb(),a.Sb(2,"pre"),a.Dc(3),a.jc(4,"json"),a.jc(5,"async"),a.Rb(),a.Bc(6,R,2,1,"li",0),a.jc(7,"async")),2&t&&(a.Ab(3),a.Fc(" ",a.kc(4,2,a.kc(5,4,e.petTypes$)),""),a.Ab(3),a.nc("ngForOf",a.kc(7,6,e.items$)))},directives:[o.k],pipes:[o.g,o.b],styles:[""]}),t})();function w(t,e){if(1&t&&(a.Sb(0,"pre"),a.Dc(1),a.jc(2,"json"),a.Rb()),2&t){const t=a.ic();a.Ab(1),a.Ec(a.kc(2,1,t.teamMemberForm.value))}}function O(t,e){if(1&t&&(a.Sb(0,"pre"),a.Dc(1),a.jc(2,"async"),a.Rb()),2&t){const t=a.ic();a.Ab(1),a.Ec(a.kc(2,1,t.error$))}}let N=(()=>{class t{constructor(t,e,n,o){this.commandS=t,this.formS=e,this.userS=n,this.externalLibsS=o,this.formConstants={ID:"ID",NAME:"NAME",ROLE:"ROLE",DESCRIPTION:"DESCRIPTION",OCCUPATION:"OCCUPATION",AVATAR:"AVATAR",IMAGE:"IMAGE"},this.isDevMode=this.externalLibsS.isDevMode}ngOnInit(){this.loadForm(),this.error$=this.userS.errorMessage$}loadForm(){this.teamMemberForm=this.getFormInstance(),this.commandS.addCommand(new m(this.teamMemberForm,this.formConstants.ID,[r.n.required])),this.commandS.addCommand(new m(this.teamMemberForm,this.formConstants.NAME,[r.n.required])),this.commandS.addCommand(new m(this.teamMemberForm,this.formConstants.ROLE,[r.n.required])),this.commandS.addCommand(new m(this.teamMemberForm,this.formConstants.DESCRIPTION,[r.n.required])),this.commandS.addCommand(new m(this.teamMemberForm,this.formConstants.OCCUPATION,[r.n.required])),this.commandS.executeCommands()}getFormInstance(){const t=new r.e({}),e=new r.c,n=new r.c,o=new r.c,s=new r.c;return t.addControl(this.formConstants.NAME,e),t.addControl(this.formConstants.ROLE,n),t.addControl(this.formConstants.DESCRIPTION,o),t.addControl(this.formConstants.OCCUPATION,s),t}create(){console.log(this.externalLibsS.generateGuiId())}clear(){}}return t.\u0275fac=function(e){return new(e||t)(a.Nb(l.a),a.Nb(l.c),a.Nb(l.d),a.Nb(l.b))},t.\u0275cmp=a.Hb({type:t,selectors:[["app-new-team-member"]],decls:31,vars:11,consts:[[1,"jumbotron","t-20"],[1,"display-16"],[3,"formGroup"],[1,"form-group"],["for","exampleInputEmail1"],["aria-describedby","nameHelp",1,"form-control",3,"formControlName","id"],["for","exampleInputPassword1"],[1,"form-control",3,"formControlName","id"],["type","file","id","avatar",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"my-4"],[4,"ngIf"]],template:function(t,e){1&t&&(a.Sb(0,"div",0),a.Sb(1,"h3",1),a.Dc(2,"Crear miembro equipo"),a.Rb(),a.Sb(3,"form",2),a.Sb(4,"div",3),a.Sb(5,"label",4),a.Dc(6,"Nombre"),a.Rb(),a.Ob(7,"input",5),a.Rb(),a.Sb(8,"div",3),a.Sb(9,"label",6),a.Dc(10,"Rol en la fundaci\xf3n"),a.Rb(),a.Ob(11,"input",7),a.Rb(),a.Sb(12,"div",3),a.Sb(13,"label",6),a.Dc(14,"Descripci\xf3n"),a.Rb(),a.Ob(15,"input",7),a.Rb(),a.Sb(16,"div",3),a.Sb(17,"label",6),a.Dc(18,"Ocupaci\xf3n"),a.Rb(),a.Ob(19,"input",7),a.Rb(),a.Sb(20,"div",3),a.Sb(21,"label",6),a.Dc(22,"Cargar foto"),a.Rb(),a.Ob(23,"input",8),a.Rb(),a.Sb(24,"button",9),a.ec("click",(function(){return e.create()})),a.Dc(25,"Crear"),a.Rb(),a.Sb(26,"button",9),a.ec("click",(function(){return e.clear()})),a.Dc(27,"Limpiar"),a.Rb(),a.Rb(),a.Ob(28,"hr",10),a.Bc(29,w,3,3,"pre",11),a.Bc(30,O,3,3,"pre",11),a.Rb()),2&t&&(a.Ab(3),a.nc("formGroup",e.teamMemberForm),a.Ab(4),a.oc("formControlName",e.formConstants.NAME),a.oc("id",e.formConstants.NAME),a.Ab(4),a.oc("formControlName",e.formConstants.ROLE),a.oc("id",e.formConstants.ROLE),a.Ab(4),a.oc("formControlName",e.formConstants.DESCRIPTION),a.oc("id",e.formConstants.DESCRIPTION),a.Ab(4),a.oc("formControlName",e.formConstants.OCCUPATION),a.oc("id",e.formConstants.OCCUPATION),a.Ab(10),a.nc("ngIf",e.isDevMode),a.Ab(1),a.nc("ngIf",e.isDevMode))},directives:[r.p,r.k,r.f,r.a,r.j,r.d,o.l],pipes:[o.g,o.b],styles:[""]}),t})(),D=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Hb({type:t,selectors:[["app-manage-team"]],decls:2,vars:0,template:function(t,e){1&t&&(a.Sb(0,"p"),a.Dc(1,"manage-team works!"),a.Rb())},styles:[""]}),t})(),I=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Hb({type:t,selectors:[["app-manage-pets"]],decls:2,vars:0,template:function(t,e){1&t&&(a.Sb(0,"p"),a.Dc(1,"manage-pets works!"),a.Rb())},styles:[""]}),t})();n.d(e,"BackOfficeModule",(function(){return M}));const y=[o.c,s.d.forChild([{path:"",component:c,canActivate:[h],children:[{path:"",redirectTo:"new-pet",pathMatch:"full"},{path:"new-pet",component:S,canActivate:[h]},{path:"pets",component:g,canActivate:[h]},{path:"pet-type",component:v,canActivate:[h]},{path:"new-team-member",component:N,canActivate:[h]},{path:"manage-pets",component:I,canActivate:[h]},{path:"manage-team",component:D,canActivate:[h]}]},{path:"login",component:d}]),r.m,r.g],E=[h];let M=(()=>{class t{}return t.\u0275mod=a.Lb({type:t}),t.\u0275inj=a.Kb({factory:function(e){return new(e||t)},providers:[...E],imports:[[...y]]}),t})()}}]);