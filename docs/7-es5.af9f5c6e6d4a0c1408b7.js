function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var c=t[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{ui71:function(e,t,a){"use strict";a.r(t);var c,n,i,r=a("ofXK"),s=a("tyNb"),o=a("XNiG"),u=a("1G5W"),l=a("fXoL"),p=a("AytR"),b=a("2Vo4"),h=a("z6cu"),v=a("tk/3"),f=((i=function(){function e(t){_classCallCheck(this,e),this.http=t,this.petsBehaviourSubject=new b.a([]),this.pets$=this.petsBehaviourSubject.asObservable(),this.totalItemsBehaviourSubject=new b.a(null),this.totalItemsObservable$=this.totalItemsBehaviourSubject.asObservable()}return _createClass(e,[{key:"loadInitialState",value:function(){this.page=1,this.limit=5,this.activeService$=new o.a}},{key:"nextPage",value:function(){this.page++}},{key:"setRecordsPerPage",value:function(e){this.limit=e}},{key:"loadPets",value:function(e){var t=this,a=this.getQueryParams(e);this.http.get(a).pipe(Object(u.a)(this.activeService$)).subscribe((function(e){t.petsBehaviourSubject.next(e.data),t.totalItemsBehaviourSubject.next(e.totalItems)}))}},{key:"unsubcribe",value:function(){this.activeService$.next(),this.activeService$.complete()}},{key:"getQueryParams",value:function(e){var t=Object.keys(e).reduce((function(t,a){return"&".concat(a,"=").concat(e[a])}),"");return"".concat(p.a.api_url,"pet/?page=").concat(this.page,"&limit=").concat(this.limit).concat(t)}},{key:"handleError",value:function(e){var t;return t=e.error instanceof ErrorEvent?"An error occurred: ".concat(e.error.message):"Backend returned code ".concat(e.status,": ").concat(e.body.error),console.error(e),Object(h.a)(t)}}]),e}()).\u0275fac=function(e){return new(e||i)(l.ac(v.a))},i.\u0275prov=l.Jb({token:i,factory:i.\u0275fac}),i),y=((n=function(){function e(t){_classCallCheck(this,e),this.http=t,this.petTypesBehaviourSubject=new b.a([]),this.petTypes$=this.petTypesBehaviourSubject.asObservable()}return _createClass(e,[{key:"loadInitialState",value:function(){this.page=1,this.limit=40,this.activeService$=new o.a}},{key:"load",value:function(e){var t=this,a=this.getQueryParams(e);this.http.get(a).pipe(Object(u.a)(this.activeService$)).subscribe((function(e){return t.petTypesBehaviourSubject.next(e.data)}))}},{key:"unsubcribe",value:function(){this.activeService$.next(),this.activeService$.complete()}},{key:"getQueryParams",value:function(e){return Object.keys(e).reduce((function(t,a){return"&".concat(a,"=").concat(e[a])}),""),"".concat(p.a.api_url,"pet-type/?page=").concat(this.page,"&limit=").concat(this.limit)}},{key:"handleError",value:function(e){var t;return t=e.error instanceof ErrorEvent?"An error occurred: ".concat(e.error.message):"Backend returned code ".concat(e.status,": ").concat(e.body.error),console.error(e),Object(h.a)(t)}}]),e}()).\u0275fac=function(e){return new(e||n)(l.ac(v.a))},n.\u0275prov=l.Jb({token:n,factory:n.\u0275fac}),n),S=((c=function(){function e(t,a,c){_classCallCheck(this,e),this.route=t,this.petS=a,this.petTS=c,this.activeComponent$=new o.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.pets$=this.petS.pets$,this.totalItems$=this.petS.totalItemsObservable$,this.petTypes$=this.petTS.petTypes$,this.route.queryParams.pipe(Object(u.a)(this.activeComponent$)).subscribe((function(t){var a="adopted"===t.param;e.queryParams=Object.assign(Object.assign({},e.queryParams),{adopted:a}),e.petS.loadInitialState(),e.petS.loadPets(e.queryParams),e.petTS.loadInitialState(),e.petTS.load({})}))}},{key:"ngOnDestroy",value:function(){this.activeComponent$.next(),this.activeComponent$.complete(),this.petS.unsubcribe()}},{key:"nextPage",value:function(e){this.petS.nextPage(),this.petS.loadPets(this.queryParams)}},{key:"changeRecordsPerPage",value:function(e){console.log(e)}}]),e}()).\u0275fac=function(e){return new(e||c)(l.Nb(s.a),l.Nb(f),l.Nb(y))},c.\u0275cmp=l.Hb({type:c,selectors:[["app-pets"]],decls:34,vars:13,consts:[[3,"click"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],[1,"page-link"]],template:function(e,t){1&e&&(l.Sb(0,"p"),l.Dc(1,"pets works!"),l.Rb(),l.Sb(2,"pre"),l.Dc(3),l.jc(4,"json"),l.jc(5,"async"),l.Rb(),l.Sb(6,"pre"),l.Dc(7),l.jc(8,"async"),l.Rb(),l.Sb(9,"pre"),l.Dc(10),l.jc(11,"json"),l.jc(12,"async"),l.Rb(),l.Sb(13,"button",0),l.ec("click",(function(e){return t.nextPage(e)})),l.Dc(14,"next Page"),l.Rb(),l.Sb(15,"button",0),l.ec("click",(function(e){return t.changeRecordsPerPage(e)})),l.Dc(16,"increaase petPage"),l.Rb(),l.Sb(17,"nav",1),l.Sb(18,"ul",2),l.Sb(19,"li",3),l.Sb(20,"a",4),l.Dc(21,"Previous"),l.Rb(),l.Rb(),l.Sb(22,"li",3),l.Sb(23,"a",4),l.Dc(24,"1"),l.Rb(),l.Rb(),l.Sb(25,"li",3),l.Sb(26,"a",4),l.Dc(27,"2"),l.Rb(),l.Rb(),l.Sb(28,"li",3),l.Sb(29,"a",4),l.Dc(30,"3"),l.Rb(),l.Rb(),l.Sb(31,"li",3),l.Sb(32,"a",4),l.Dc(33,"Next"),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.Ab(3),l.Ec(l.kc(4,3,l.kc(5,5,t.pets$))),l.Ab(4),l.Ec(l.kc(8,7,t.totalItems$)),l.Ab(3),l.Ec(l.kc(11,9,l.kc(12,11,t.petTypes$))))},pipes:[r.g,r.b],styles:[""]}),c);a.d(t,"PetsModule",(function(){return g}));var d,m=[r.c,s.d.forChild([{path:"",component:S}])],k=[f,y],g=((d=function e(){_classCallCheck(this,e)}).\u0275mod=l.Lb({type:d}),d.\u0275inj=l.Kb({factory:function(e){return new(e||d)},providers:[].concat(k),imports:[[].concat(m)]}),d)}}]);